plugins {
    id 'java'
    // id 'java-library'
    id 'application'

    id 'org.openjfx.javafxplugin' version '0.1.0'
    id 'io.franzbecker.gradle-lombok' version '5.0.0'
    id 'org.javamodularity.moduleplugin' version '1.8.13'

    // https://github.com/gradlex-org/java-module-dependencies
    id 'org.gradlex.java-module-dependencies' version '1.6.4'
}

repositories {
    // Use Maven Central for resolving dependencies.
    mavenCentral()
}

mainModuleInfo {
    annotationProcessor 'lombok'
}

testModuleInfo {
    annotationProcessor 'lombok'
    requiresStatic 'org.junit.jupiter.api'
    requires 'org.junit.jupiter.engine'
}

// Apply a specific Java toolchain to ease working on different environments.
java {
    sourceCompatibility = JavaVersion.VERSION_23 // TODO TEMPORARY for scene builder compatibility
    toolchain {
        languageVersion = JavaLanguageVersion.of(24)
    }
}

javafx {
    version = '23.0.2' // TODO TEMPORARY for scene builder compatibility
    modules = [ 'javafx.base', 'javafx.controls', 'javafx.fxml', 'javafx.graphics', 'javafx.web' ]
}

jar {
    archiveBaseName.set(rootProject.name + 'Components')
    manifest {
        attributes 'Implementation-Title': 'Custom components for Password Manager'
    }
}

application {
    // Define the main class for the application.
    mainModule = 'password.manager.lib'
    mainClass = 'password.manager.lib.Main'
}